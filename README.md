# WeBot VPN Bot ğŸš€

<div align="center">

![WeBot Logo](https://img.shields.io/badge/WeBot-VPN%20Bot-blue?style=for-the-badge)
[![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![Node.js](https://img.shields.io/badge/Node.js-43853D?style=for-the-badge&logo=node.js&logoColor=white)](https://nodejs.org/)
[![Prisma](https://img.shields.io/badge/Prisma-2D3748?style=for-the-badge&logo=prisma&logoColor=white)](https://www.prisma.io/)
[![Redis](https://img.shields.io/badge/Redis-DC382D?style=for-the-badge&logo=redis&logoColor=white)](https://redis.io/)
[![MySQL](https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&logo=mysql&logoColor=white)](https://www.mysql.com/)
[![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white)](https://www.docker.com/)

**Ø³ÛŒØ³ØªÙ… ÙØ±ÙˆØ´ Ø®ÙˆØ¯Ú©Ø§Ø± VPN Ø¨Ø§ Ù…Ø¹Ù…Ø§Ø±ÛŒ Clean Architecture**

[English](#english) | [ÙØ§Ø±Ø³ÛŒ](#ÙØ§Ø±Ø³ÛŒ)

</div>

---

## ÙØ§Ø±Ø³ÛŒ

### ğŸ“– Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù¾Ø±ÙˆÚ˜Ù‡

**WeBot** ÛŒÚ© Ø±Ø¨Ø§Øª ØªÙ„Ú¯Ø±Ø§Ù… Ù…Ø¯Ø±Ù† Ø¨Ø±Ø§ÛŒ ÙØ±ÙˆØ´ Ø®ÙˆØ¯Ú©Ø§Ø± Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ VPN Ø§Ø³Øª Ú©Ù‡ Ø¨Ø§ TypeScript Ùˆ Clean Architecture Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª. Ø§ÛŒÙ† Ø±Ø¨Ø§Øª Ø§Ø² **7 Ù†ÙˆØ¹ Ù¾Ù†Ù„ VPN** Ùˆ **4 Ø¯Ø±Ú¯Ø§Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª** Ù…Ø®ØªÙ„Ù Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

### âœ¨ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ

#### ğŸ—ï¸ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ùˆ Ø²ÛŒØ±Ø³Ø§Ø®Øª
- âœ… **Clean Architecture** - Ø¬Ø¯Ø§Ø³Ø§Ø²ÛŒ Ú©Ø§Ù…Ù„ Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§
- âœ… **TypeScript** - Type Safety Ú©Ø§Ù…Ù„
- âœ… **Prisma ORM** - Ù…Ø¯ÛŒØ±ÛŒØª Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ù¾ÛŒØ´Ø±ÙØªÙ‡
- âœ… **BullMQ** - Ø³ÛŒØ³ØªÙ… Job Queue
- âœ… **Redis** - Cache Ùˆ Queue Management
- âœ… **Docker Support** - Deploy Ø¢Ø³Ø§Ù†

#### ğŸ”Œ Ù¾Ù†Ù„â€ŒÙ‡Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø´Ø¯Ù‡ (7 Ù†ÙˆØ¹)

| Ù¾Ù†Ù„ | ÙˆØ¶Ø¹ÛŒØª | ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ |
|-----|------|----------|
| **Marzban** | âœ… | Token auth, User management, Stats |
| **Marzneshin** | âœ… | Advanced expiry strategies |
| **X-UI / 3x-ui** | âœ… | Cookie auth, Inbound management |
| **S-UI** | âœ… | Full CRUD, Stats |
| **Alireza (X-UI)** | âœ… | X-UI variant, API v2 |
| **WireGuard Dashboard** | âœ… | API key auth, Peer management |
| **MikroTik RouterOS** | âœ… | REST API, User-Manager |

#### ğŸ’³ Ø¯Ø±Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾Ø±Ø¯Ø§Ø®Øª (4 Ù†ÙˆØ¹)

| Ø¯Ø±Ú¯Ø§Ù‡ | Ù†ÙˆØ¹ | ÙˆØ¶Ø¹ÛŒØª |
|-------|-----|------|
| **Zarinpal** | Ø¢Ù†Ù„Ø§ÛŒÙ† | âœ… + Sandbox |
| **AqayePardakht** | Ø¢Ù†Ù„Ø§ÛŒÙ† | âœ… API v2 |
| **Card-to-Card** | Ø¯Ø³ØªÛŒ | âœ… + Receipt Upload |
| **NowPayments** | Ú©Ø±ÛŒÙ¾ØªÙˆ | âœ… 150+ Coins |

#### ğŸ‘¤ Ø§Ù…Ú©Ø§Ù†Ø§Øª Ú©Ø§Ø±Ø¨Ø±ÛŒ
- âœ… Ø³ÛŒØ³ØªÙ… Ø§ÙÛŒÙ„ÛŒØª Ùˆ Ø²ÛŒØ±Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒÚ¯ÛŒØ±ÛŒ
- âœ… Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø¯ÛŒØ¬ÛŒØªØ§Ù„
- âœ… Ø´Ø§Ø±Ú˜ Ø¢Ù†Ù„Ø§ÛŒÙ†
- âœ… Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§
- âœ… ØªÙ…Ø¯ÛŒØ¯ Ùˆ Ø®Ø±ÛŒØ¯ Ø­Ø¬Ù…
- âœ… QR Code Ùˆ Ù„ÛŒÙ†Ú© Ø§ØªØµØ§Ù„

#### ğŸ‘¨â€ğŸ’¼ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
- âœ… Ø¢Ù…Ø§Ø± Ùˆ Ú¯Ø²Ø§Ø±Ø´â€ŒÚ¯ÛŒØ±ÛŒ Ú©Ø§Ù…Ù„
- âœ… Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
- âœ… Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ù†Ù„â€ŒÙ‡Ø§
- âœ… Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª
- âœ… Broadcast Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§
- âœ… ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾Ø±Ø¯Ø§Ø®Øª

#### âš¡ Automation Jobs (BullMQ)
- âœ… **Expiry Warning** - Ù‡Ø´Ø¯Ø§Ø± 7ØŒ 3ØŒ 1 Ø±ÙˆØ² Ù‚Ø¨Ù„
- âœ… **Volume Warning** - Ù‡Ø´Ø¯Ø§Ø± 80% Ùˆ 90%
- âœ… **Auto Verify** - ØªØ§ÛŒÛŒØ¯ Ø®ÙˆØ¯Ú©Ø§Ø± Ù¾Ø±Ø¯Ø§Ø®Øª
- âœ… **Cleanup** - Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±
- âœ… **Broadcast** - Ø§Ø±Ø³Ø§Ù„ Ú¯Ø±ÙˆÙ‡ÛŒ

### ğŸš€ Ù†ØµØ¨ Ø³Ø±ÛŒØ¹

#### Ø¨Ø§ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø®ÙˆØ¯Ú©Ø§Ø± (Linux)
```bash
bash <(curl -Ls https://raw.githubusercontent.com/MasterALiReza/webot-typescript/main/install.sh)
```

#### Ù†ØµØ¨ Ø¯Ø³ØªÛŒ
```bash
# Clone repository
git clone https://github.com/MasterALiReza/webot-typescript.git
cd webot-typescript

# Ù†ØµØ¨ dependencies
npm install

# ØªÙ†Ø¸ÛŒÙ… environment
cp .env.example .env
nano .env  # ÙˆÛŒØ±Ø§ÛŒØ´ ØªÙ†Ø¸ÛŒÙ…Ø§Øª

# Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³
npx prisma generate
npx prisma migrate deploy

# Ø§Ø¬Ø±Ø§
npm run build
npm start
```

#### Ø¨Ø§ Docker
```bash
docker-compose up -d
```

### ğŸ“‹ Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§

- Node.js >= 20.x
- MySQL >= 8.0
- Redis >= 6.0
- ÛŒÚ© Ù¾Ù†Ù„ VPN ÙØ¹Ø§Ù„
- ØªÙˆÚ©Ù† Ø±Ø¨Ø§Øª ØªÙ„Ú¯Ø±Ø§Ù… Ø§Ø² [@BotFather](https://t.me/BotFather)

### ğŸ”§ ØªÙ†Ø¸ÛŒÙ…Ø§Øª

ÙØ§ÛŒÙ„ `.env` Ø±Ø§ ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ù†ÛŒØ¯:

```env
# Bot
BOT_TOKEN=your_bot_token
ADMIN_CHAT_ID=your_chat_id

# Database
DATABASE_URL="mysql://user:pass@localhost:3306/webot"

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379

# Payment Gateways (optional)
ZARINPAL_MERCHANT_ID=
AQAYEPARDAKHT_PIN=
NOWPAYMENTS_API_KEY=
```

### ğŸ“ Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø±ÙˆÚ˜Ù‡

```
src/
â”œâ”€â”€ core/              # Domain Layer
â”‚   â”œâ”€â”€ interfaces/    # Interface definitions
â”‚   â””â”€â”€ errors/        # Custom errors
â”œâ”€â”€ application/       # Use Cases
â”œâ”€â”€ infrastructure/    # External Services
â”‚   â”œâ”€â”€ database/      # Prisma + Repositories
â”‚   â”œâ”€â”€ panels/        # 7 Panel Adapters
â”‚   â”œâ”€â”€ payments/      # 4 Payment Gateways
â”‚   â””â”€â”€ queue/         # BullMQ Workers
â”œâ”€â”€ presentation/      # Bot Layer
â”‚   â”œâ”€â”€ handlers/      # Commands & Callbacks
â”‚   â”œâ”€â”€ keyboards/     # Telegram keyboards
â”‚   â””â”€â”€ middlewares/   # Bot middlewares
â”œâ”€â”€ locales/          # i18n (fa.json)
â””â”€â”€ shared/           # Config, Logger, Utils
```

### ğŸ“Š Ø¢Ù…Ø§Ø± Ù¾Ø±ÙˆÚ˜Ù‡

- **35+ ÙØ§ÛŒÙ„** TypeScript
- **~8,000 Ø®Ø·** Ú©Ø¯
- **7 Panel Adapter** Ú©Ø§Ù…Ù„
- **4 Payment Gateway**
- **11 Admin Handler**
- **6 BullMQ Worker**
- **15 Database Model**

### ğŸ¤ Ù…Ø´Ø§Ø±Ú©Øª

Ù…Ø´Ø§Ø±Ú©Øªâ€ŒÙ‡Ø§ Ø®ÙˆØ´Ø§ÛŒÙ†Ø¯ Ø§Ø³Øª! Ù„Ø·ÙØ§Ù‹:

1. Fork Ú©Ù†ÛŒØ¯
2. Feature branch Ø¨Ø³Ø§Ø²ÛŒØ¯ (`git checkout -b feature/amazing`)
3. Commit Ú©Ù†ÛŒØ¯ (`git commit -m 'Add feature'`)
4. Push Ú©Ù†ÛŒØ¯ (`git push origin feature/amazing`)
5. Pull Request Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯

### ğŸ“ Ù„Ø§ÛŒØ³Ù†Ø³

Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ ØªØ­Øª [MIT License](LICENSE) Ù…Ù†ØªØ´Ø± Ø´Ø¯Ù‡ Ø§Ø³Øª.

### ğŸ“ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ

- **Issues**: [GitHub Issues](https://github.com/MasterALiReza/webot-typescript/issues)
- **Discussions**: [GitHub Discussions](https://github.com/MasterALiReza/webot-typescript/discussions)

---

## English

### ğŸ“– About

**WeBot** is a modern Telegram bot for automated VPN service sales, built with TypeScript and Clean Architecture. Supports **7 VPN panels** and **4 payment gateways**.

### âœ¨ Key Features

- ğŸ—ï¸ **Clean Architecture** - Complete layer separation
- ğŸ’ **TypeScript** - Full type safety
- ğŸ—„ï¸ **Prisma ORM** - Advanced database management
- âš¡ **BullMQ** - Job queue system
- ğŸ”„ **Redis** - Caching & queue management
- ğŸ³ **Docker** - Easy deployment

#### Supported Panels (7)
Marzban â€¢ Marzneshin â€¢ X-UI â€¢ S-UI â€¢ Alireza â€¢ WireGuard Dashboard â€¢ MikroTik

#### Payment Gateways (4)
Zarinpal â€¢ AqayePardakht â€¢ Card-to-Card â€¢ NowPayments (Crypto)

### ğŸš€ Quick Start

```bash
# Clone
git clone https://github.com/MasterALiReza/webot-typescript.git
cd webot-typescript

# Install
npm install

# Configure
cp .env.example .env
# Edit .env with your settings

# Run
npm run build
npm start
```

### ğŸ“– Documentation

For detailed documentation, installation guides, and configuration:
- See inline code comments
- Check example `.env.example` file
- Review panel adapter implementations in `src/infrastructure/panels/`

### ğŸ› ï¸ Tech Stack

- **Runtime**: Node.js 20+
- **Language**: TypeScript
- **Database**: MySQL 8.0 + Prisma ORM
- **Cache**: Redis 6.0+
- **Queue**: BullMQ
- **Bot Framework**: Grammy
- **Container**: Docker

### ğŸ“Š Project Stats

- **35+** TypeScript files
- **~8,000** lines of production code
- **7** Panel adapters
- **4** Payment gateways
- **11** Admin handlers
- **6** Background workers

### ğŸ¤ Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

### ğŸ“ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

<div align="center">

**Made with â¤ï¸ for the Iranian VPN community**

[![GitHub stars](https://img.shields.io/github/stars/MasterALiReza/webot-typescript?style=social)](https://github.com/MasterALiReza/webot-typescript/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/MasterALiReza/webot-typescript?style=social)](https://github.com/MasterALiReza/webot-typescript/network/members)

</div>
